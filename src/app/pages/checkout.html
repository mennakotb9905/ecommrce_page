<section class="checkout-page">
  <div class="container">
    <!-- Page Header -->
    <div class="page-header">
      <h1>Checkout</h1>
      <nav class="breadcrumb">
        <a routerLink="/">Home</a>
        <span>></span>
        <a routerLink="/cart">Cart</a>
        <span>></span>
        <span>Checkout</span>
      </nav>
    </div>

    <div class="checkout-content">
      <!-- Checkout Form -->
      <div class="checkout-form">
        <form #f="ngForm" (ngSubmit)="submit(f)">
          <!-- Personal Information -->
          <div class="form-section">
            <h2>Personal Information</h2>
            <div class="form-row">
              <div class="form-group">
                <label for="firstName">First Name *</label>
                <input id="firstName" name="firstName" ngModel required placeholder="Enter your first name" />
              </div>
              <div class="form-group">
                <label for="lastName">Last Name *</label>
                <input id="lastName" name="lastName" ngModel required placeholder="Enter your last name" />
              </div>
            </div>
            <div class="form-group">
              <label for="email">Email Address *</label>
              <input id="email" name="email" type="email" ngModel required placeholder="Enter your email" />
            </div>
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input id="phone" name="phone" type="tel" ngModel placeholder="Enter your phone number" />
            </div>
          </div>

          <!-- Shipping Address -->
          <div class="form-section">
            <h2>Shipping Address</h2>
            <div class="form-group">
              <label for="address">Street Address *</label>
              <input id="address" name="address" ngModel required placeholder="Enter your street address" />
            </div>
            <div class="form-group">
              <label for="address2">Apartment, suite, etc. (optional)</label>
              <input id="address2" name="address2" ngModel placeholder="Apartment, suite, etc." />
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="city">City *</label>
                <input id="city" name="city" ngModel required placeholder="Enter your city" />
              </div>
              <div class="form-group">
                <label for="state">State/Province *</label>
                <select id="state" name="state" ngModel required>
                  <option value="">Select State</option>
                  <option value="CA">California</option>
                  <option value="NY">New York</option>
                  <option value="TX">Texas</option>
                  <option value="FL">Florida</option>
                </select>
              </div>
              <div class="form-group">
                <label for="zip">ZIP/Postal Code *</label>
                <input id="zip" name="zip" ngModel required placeholder="Enter ZIP code" />
              </div>
            </div>
            <div class="form-group">
              <label for="country">Country *</label>
              <select id="country" name="country" ngModel required>
                <option value="">Select Country</option>
                <option value="US">United States</option>
                <option value="CA">Canada</option>
                <option value="UK">United Kingdom</option>
              </select>
            </div>
          </div>

          <!-- Payment Method -->
          <div class="form-section">
            <h2>Payment Method</h2>
            <div class="payment-methods">
              <div class="payment-option">
                <input type="radio" id="creditCard" name="paymentMethod" value="creditCard" ngModel required>
                <label for="creditCard">
                  <span class="payment-icon">üí≥</span>
                  <span>Credit/Debit Card</span>
                </label>
              </div>
              <div class="payment-option">
                <input type="radio" id="paypal" name="paymentMethod" value="paypal" ngModel required>
                <label for="paypal">
                  <span class="payment-icon">üè¶</span>
                  <span>PayPal</span>
                </label>
              </div>
              <div class="payment-option">
                <input type="radio" id="applePay" name="paymentMethod" value="applePay" ngModel required>
                <label for="applePay">
                  <span class="payment-icon">üì±</span>
                  <span>Apple Pay</span>
                </label>
              </div>
            </div>

            <!-- Credit Card Details -->
            <div class="credit-card-details" *ngIf="f.value?.paymentMethod === 'creditCard'">
              <div class="form-group">
                <label for="cardNumber">Card Number *</label>
                <input id="cardNumber" name="cardNumber" ngModel required placeholder="1234 5678 9012 3456" />
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="expiryDate">Expiry Date *</label>
                  <input id="expiryDate" name="expiryDate" ngModel required placeholder="MM/YY" />
                </div>
                <div class="form-group">
                  <label for="cvv">CVV *</label>
                  <input id="cvv" name="cvv" ngModel required placeholder="123" />
                </div>
              </div>
              <div class="form-group">
                <label for="cardName">Name on Card *</label>
                <input id="cardName" name="cardName" ngModel required placeholder="Enter name as it appears on card" />
              </div>
            </div>
          </div>

          <!-- Order Summary -->
          <div class="form-section">
            <h2>Order Summary</h2>
            <div class="order-items">
              <div class="order-item" *ngFor="let item of items()">
                <img [src]="item.product.image" [alt]="item.product.title" />
                <div class="item-info">
                  <h4>{{ item.product.title }}</h4>
                  <span class="quantity">Qty: {{ item.quantity }}</span>
                </div>
                <span class="item-price">${{ (item.product.price * item.quantity).toFixed(2) }}</span>
              </div>
            </div>
            
            <div class="order-totals">
              <div class="total-row">
                <span>Subtotal</span>
                <span>${{ subtotal() }}</span>
              </div>
              <div class="total-row">
                <span>Shipping</span>
                <span class="free">Free</span>
              </div>
              <div class="total-row">
                <span>Tax</span>
                <span>${{ (subtotal() * 0.08).toFixed(2) }}</span>
              </div>
              <div class="total-row total">
                <span>Total</span>
                <span>${{ (subtotal() * 1.08).toFixed(2) }}</span>
              </div>
            </div>
          </div>

          <!-- Terms and Conditions -->
          <div class="form-section">
            <div class="checkbox-group">
              <input type="checkbox" id="terms" name="terms" ngModel required>
              <label for="terms">
                I agree to the <a href="#">Terms and Conditions</a> and <a href="#">Privacy Policy</a>
              </label>
            </div>
            <div class="checkbox-group">
              <input type="checkbox" id="newsletter" name="newsletter" ngModel>
              <label for="newsletter">
                Subscribe to our newsletter for updates and special offers
              </label>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="form-actions">
            <button type="submit" class="place-order-btn" [disabled]="f.invalid">
              <span>Place Order</span>
              <span>${{ (subtotal() * 1.08).toFixed(2) }}</span>
            </button>
          </div>
        </form>
      </div>

      <!-- Security Info -->
      <div class="security-info">
        <div class="security-card">
          <h3>üîí Secure Checkout</h3>
          <p>Your payment information is encrypted and secure. We never store your credit card details.</p>
        </div>
        
        <div class="security-card">
          <h3>üöö Free Shipping</h3>
          <p>Enjoy free shipping on all orders over $50. Standard delivery takes 3-5 business days.</p>
        </div>
        
        <div class="security-card">
          <h3>‚Ü©Ô∏è Easy Returns</h3>
          <p>Not satisfied? Return any item within 30 days for a full refund.</p>
        </div>
      </div>
    </div>
  </div>
</section>


